@(games: Seq[models.MatchCentreGame])(competition: Option[Competition])
@import java.text.SimpleDateFormat
@import java.util.Date

@strDate(date: Date) = @{
    val sd = new SimpleDateFormat("dd MMMM yyyy")
    sd.format(date)
  }


@main("Follow Rugby"){
	@competition.map { comp =>
  <div class="row">
 <div class="span12">
           <h1>@comp.name</h1>
         </div>
</div>
	}
	
	@if(games.isEmpty) {
		<div class="alert alert-error">
            <p>No matches are currently scheduled. Please contact <a href="https://www.twitter.com/intent/user?screen_name=FollowRugbySite">@@FollowRugbySite</a> to suggest a match taking place this week for this competition</p>
    </div>
	}
	
	
   @games.groupBy(_.game.gameDate).toList.sortBy(_._1).map { case (date, games) =>
  	 
  	 <ul class="nav nav-list">
     <li class="nav-header">@strDate(date)</li>
  	 @games.map { game =>
  	   <li><a href="#game@game.game.team1Id">@game.team1.name v @game.team2.name</a></li>
  	 }
  	  </ul>
  }
   
   <br></br>
 
  
   @games.sortBy(_.game.gameDate).map { case game =>
        <div class="row">

       <div class="span12">
   <a name="game@game.game.team1Id"></a>
<div class="well">
           <p class="lead text-center">@strDate(game.game.gameDate) @@@game.game.time</p>
           <h3 class="text-center">@game.team1.name v @game.team2.name</h3>
         </div>
  </div>
</div>
  
  	 <div class="row"> 
       <div class="span4">
         <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/@{game.team1Widget.twitterAccount}/@{game.team1Widget.url}" data-widget-id="@game.team1Widget.id"></a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
         </div>
       </div>
          
   
     <div class="span4">
        <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/@{game.team2Widget.twitterAccount}/@{game.team2Widget.url}" data-widget-id="@game.team2Widget.id"></a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
     </div>
     @game.matchWidget.map { w =>    
     <div class="span4">
        <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/search?@{w.url}" data-widget-id="@w.id"></a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
     </div>
     }
     </div>
     
     </br>

      
    
  } 
  
  
}
    
      


