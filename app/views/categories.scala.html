@(category: Category)(teams: Seq[models.Team])(players: Seq[models.Member])(widget: Option[models.Widget])

@main("Follow Rugby"){
  <div class="span3">
    <div class="well sidebar-nav">
      <ul class="nav nav-list>
      <li class="nav-header>@category.name</li>
      @teams.sortBy(_.name).map { team =>
        <li><a href="@routes.Application.selectTeam(category.id.get, team.id.get)">@team.name</a></li>
        }
      </ul>
    </div>
  </div>
  <div class="span5">
  @if(players.isEmpty) {
    <p class="lead">Click on a team on the left to see their players and twitter feed.</p>
  } else {
  <table class="table table-bordered table-condensed">
  <thead>
    <tr>
      <th>Player</th>
      <th>Twitter Name</th>
    </tr>
  </thead>
  <tbody>
  @players.sortBy(_.name).map { player:Member => 
    <tr>
       <td> @player.name </td>
       <td> 
          <a href="https://www.twitter.com/intent/user?screen_name=@{player.twitterName}">@@@player.twitterName</a> 
       
       </td>
    </tr>  
    }
    
  </tbody>
  
  </table>
  }
  </div>
  
}{ 
  @widget.map { list =>
    <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/@{list.twitterAccount}/@{list.url}" data-widget-id="@list.id"></a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
  }
}
    
      


