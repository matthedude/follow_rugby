@(category: Category)(teams: Seq[models.Team])(team: Option[models.Team])(players: Seq[models.Member])(widget: Option[models.Widget])(searchWidget: Option[models.Widget])

@import models.Linker._

@main("Follow Rugby"){
	 <div class="row">
  <div class="span3">
    <div class="well sidebar-nav">
      <ul class="nav nav-list">
      <li class="nav-header">@category.name</li>
      <li class="divider"></li>
      @teams.sortBy(_.name).map { team =>
        <li><a href="@routes.Application.selectTeam(category.id.get, team.id.get, link(category.name), link(team.name))">@team.name</a></li>
        }
      </ul>
      <br></br>
      <p><small>Suggest further Twitter profiles by tweeting <a href="https://www.twitter.com/intent/user?screen_name=FollowRugbySite">@@FollowRugbySite</a></small></p>
      
    </div>
  </div>
  <div class="span5">
  @if(players.isEmpty) {
    <p class="lead">Click on a group on the left to see its updated Twitter feed and all associated Twitter profiles.</p>
  } else {
  @team.map { t =>
    <h2>@t.name</h2>
  	
  	@t.twitterName.map { twitter =>
  	<h3>
  	  <a href="https://www.twitter.com/intent/user?screen_name=@{twitter}">@@@twitter</a> 
  	</h3>
  	}
  }
  
  
  <table class="table table-bordered table-condensed">
  
  <tbody>
  @players.sortBy(_.name).map { player:Member => 
    <tr>
       <td> @player.name </td>
       <td> 
          <a href="https://www.twitter.com/intent/user?screen_name=@{player.twitterName}">@@@player.twitterName</a> 
       
       </td>
    </tr>  
    }
    
  </tbody>
  
  </table>
  }
  </div>

  <div class="span4">
  <span class='st_twitter_large' displayText='Tweet'></span>
<span class='st_facebook_large' displayText='Facebook'></span>
<span class='st_linkedin_large' displayText='LinkedIn'></span>
<span class='st_email_large' displayText='Email'></span>
  @widget.map { list =>
    <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/@{list.twitterAccount}/@{list.url}" data-widget-id="@list.id"></a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
  }
  
@searchWidget.map { w =>    
        <div class="widget-frame"><a class="twitter-timeline" href="https://twitter.com/search?@{w.url}" data-widget-id="@w.id"></a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
     }
  </div>
  </div>
}
    
      


